<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boda Yazmin & David</title>
    
    <!-- 1. Tailwind CSS para los estilos -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. React y ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 3. Babel para entender el código React en el navegador -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Estilos y Animaciones base -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap');
        
        body { font-family: 'Lato', sans-serif; }
        h1, h2, h3, .font-serif { font-family: 'Playfair Display', serif; }
        
        .animate-fade-in-up { animation: fadeInUp 1s ease-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONOS (SVG Inline para evitar dependencias externas) ---
        const IconHeart = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>;
        const IconMapPin = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>;
        const IconCalendar = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>;
        const IconGift = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></svg>;
        const IconNavigation = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>;
        const IconChevronDown = ({ size }) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>;
        const IconCheckCircle = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg>;
        const IconSend = ({ size }) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>;
        const IconAlertCircle = ({ size }) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>;
        const IconLoader2 = ({ size, className }) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>;
        const IconUserCheck = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>;


        // --- COMPONENTE APP ---
        function App() {
            const [activeSection, setActiveSection] = useState('home');

            // DATOS DE LA BODA (Personaliza aquí)
            const weddingData = {
                couple: "Yazmin & David",
                date: "23 de Enero, 2027",
                location: "Hacienda San Gabriel",
                address: "Valle de Guadalupe, Baja California",
                googleMapsLink: "https://maps.google.com", 
                story: "Todo comenzó con un café que se convirtió en cena, y una cena que se convirtió en una vida juntos. Después de 5 años de risas, viajes y amor, queremos celebrar nuestro 'para siempre' con ustedes.",
                dressCode: "Formal / Etiqueta Rigurosa",
                schedule: [
                    { time: "16:00", event: "Ceremonia Religiosa" },
                    { time: "17:30", event: "Cóctel de Bienvenida" },
                    { time: "19:00", event: "Cena y Brindis" },
                    { time: "21:00", event: "¡Fiesta!" }
                ]
            };

            const scrollToSection = (id) => {
                const element = document.getElementById(id);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                    setActiveSection(id);
                }
            };

            // --- SUB-COMPONENTE: CUENTA REGRESIVA ---
            const Countdown = () => {
                const calculateTimeLeft = () => {
                    const difference = +new Date("2027-01-23") - +new Date();
                    let timeLeft = {};

                    if (difference > 0) {
                        timeLeft = {
                            días: Math.floor(difference / (1000 * 60 * 60 * 24)),
                            horas: Math.floor((difference / (1000 * 60 * 60)) % 24),
                            min: Math.floor((difference / 1000 / 60) % 60),
                            seg: Math.floor((difference / 1000) % 60),
                        };
                    }
                    return timeLeft;
                };

                const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());

                useEffect(() => {
                    const timer = setTimeout(() => {
                        setTimeLeft(calculateTimeLeft());
                    }, 1000);
                    return () => clearTimeout(timer);
                });

                return (
                    <div className="flex justify-center gap-4 md:gap-8 py-8 text-stone-600">
                        {Object.keys(timeLeft).map((interval) => (
                            <div key={interval} className="flex flex-col items-center">
                                <span className="text-3xl md:text-5xl font-serif font-bold text-stone-800">
                                    {timeLeft[interval] || '0'}
                                </span>
                                <span className="text-xs md:text-sm uppercase tracking-widest mt-2">{interval}</span>
                            </div>
                        ))}
                    </div>
                );
            };

            // --- SUB-COMPONENTE: FORMULARIO RSVP ---
            const RsvpForm = () => {
                const [formData, setFormData] = useState({
                    nombre: '',
                    asistentes: '1 Persona',
                    mensaje: ''
                });
                const [status, setStatus] = useState('idle');

                const handleChange = (e) => {
                    setFormData({ ...formData, [e.target.name]: e.target.value });
                };

                const handleSubmit = async (e) => {
                    e.preventDefault();
                    setStatus('sending');

                    try {
                        const response = await fetch("https://formsubmit.co/ajax/appleedavid@gmail.com", {
                            method: "POST",
                            headers: { 
                                'Content-Type': 'application/json',
                                'Accept': 'application/json'
                            },
                            body: JSON.stringify({
                                _subject: `Nueva Confirmación Boda: ${formData.nombre}`,
                                nombre: formData.nombre,
                                asistentes: formData.asistentes,
                                detalles: formData.mensaje,
                                _template: "table"
                            })
                        });

                        if (response.ok) {
                            setStatus('success');
                            setFormData({ nombre: '', asistentes: '1 Persona', mensaje: '' });
                        } else {
                            setStatus('error');
                        }
                    } catch (error) {
                        console.error("Error enviando formulario:", error);
                        setStatus('error');
                    }
                };

                if (status === 'success') {
                    return (
                        <div className="bg-green-50 p-8 rounded-lg text-center border border-green-200 animate-fade-in">
                            <IconCheckCircle className="w-16 h-16 text-green-500 mx-auto mb-4" />
                            <h3 className="text-2xl font-serif text-green-800 mb-2">¡Gracias por confirmar!</h3>
                            <p className="text-green-700">Hemos recibido tus datos correctamente.</p>
                            <button onClick={() => setStatus('idle')} className="mt-6 text-sm text-green-600 underline hover:text-green-800">
                                Enviar otra confirmación
                            </button>
                        </div>
                    );
                }

                return (
                    <form onSubmit={handleSubmit} className="bg-white p-8 rounded-lg shadow-xl max-w-lg mx-auto border-t-4 border-stone-400">
                        <h3 className="text-2xl font-serif text-center mb-6 text-stone-800">Confirmar Asistencia</h3>
                        
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-stone-600 mb-1">Nombre Completo</label>
                                <input required name="nombre" value={formData.nombre} onChange={handleChange} type="text" className="w-full px-4 py-2 border border-stone-300 rounded focus:ring-2 focus:ring-stone-400 focus:outline-none transition-colors" placeholder="Ej. Juan Pérez" />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-stone-600 mb-1">Número de Asistentes</label>
                                <select name="asistentes" value={formData.asistentes} onChange={handleChange} className="w-full px-4 py-2 border border-stone-300 rounded focus:ring-2 focus:ring-stone-400 focus:outline-none bg-white">
                                    <option>1 Persona</option>
                                    <option>2 Personas</option>
                                    <option>Familia (3)</option>
                                    <option>Familia (4)</option>
                                    <option>Familia (5+)</option>
                                </select>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-stone-600 mb-1">Restricciones / Canción sugerida</label>
                                <textarea name="mensaje" value={formData.mensaje} onChange={handleChange} className="w-full px-4 py-2 border border-stone-300 rounded focus:ring-2 focus:ring-stone-400 focus:outline-none h-24" placeholder="¿Eres alérgico a algo? ¿Qué canción no puede faltar?"></textarea>
                            </div>

                            {status === 'error' && (
                                <div className="bg-red-50 text-red-600 p-3 rounded text-sm flex items-center gap-2">
                                    <IconAlertCircle size={16} /> Hubo un error al enviar. Por favor intenta de nuevo.
                                </div>
                            )}

                            <button type="submit" disabled={status === 'sending'} className="w-full bg-stone-800 text-white py-3 rounded hover:bg-stone-700 transition-colors flex items-center justify-center gap-2 mt-4 font-medium tracking-wide disabled:opacity-70 disabled:cursor-not-allowed">
                                {status === 'sending' ? (
                                    <><IconLoader2 size={18} className="animate-spin" /> ENVIANDO...</>
                                ) : (
                                    <><IconSend size={18} /> ENVIAR CONFIRMACIÓN</>
                                )}
                            </button>
                        </div>
                    </form>
                );
            };

            return (
                <div className="font-sans text-stone-800 bg-stone-50 min-h-screen selection:bg-stone-200">
                    {/* Navegación */}
                    <nav className="fixed top-0 w-full bg-white/80 backdrop-blur-md z-50 border-b border-stone-200 shadow-sm">
                        <div className="max-w-5xl mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="text-xl font-serif font-bold tracking-tighter cursor-pointer" onClick={() => scrollToSection('home')}>
                                Y<span className="text-stone-400">&</span>D
                            </div>
                            <div className="hidden md:flex gap-8 text-sm font-medium tracking-widest text-stone-500">
                                {['Historia', 'Detalles', 'Itinerario', 'RSVP'].map((item) => (
                                    <button key={item} onClick={() => scrollToSection(item.toLowerCase())} className="hover:text-stone-900 transition-colors uppercase">
                                        {item}
                                    </button>
                                ))}
                            </div>
                            <button onClick={() => scrollToSection('rsvp')} className="md:hidden bg-stone-800 text-white px-4 py-2 rounded text-xs tracking-widest uppercase">
                                RSVP
                            </button>
                        </div>
                    </nav>

                    {/* Hero Section */}
                    <section id="home" className="relative h-screen flex items-center justify-center text-center px-4 overflow-hidden">
                        <div className="absolute inset-0 z-0">
                            <img src="https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80" alt="Boda Fondo" className="w-full h-full object-cover"/>
                            <div className="absolute inset-0 bg-stone-900/40"></div>
                        </div>
                        <div className="relative z-10 text-white space-y-6 max-w-4xl mx-auto animate-fade-in-up">
                            <p className="tracking-[0.3em] text-sm md:text-base uppercase font-medium">¡Nos Casamos!</p>
                            <h1 className="text-6xl md:text-8xl font-serif font-medium leading-tight">{weddingData.couple}</h1>
                            <div className="flex items-center justify-center gap-4 text-lg md:text-2xl font-light italic opacity-90">
                                <span>{weddingData.date}</span>
                                <span className="w-2 h-2 bg-white rounded-full"></span>
                                <span>{weddingData.location}</span>
                            </div>
                        </div>
                        <div className="absolute bottom-10 animate-bounce text-white cursor-pointer" onClick={() => scrollToSection('historia')}>
                            <IconChevronDown size={32} />
                        </div>
                    </section>

                    {/* Historia */}
                    <section id="historia" className="py-24 px-4 bg-white">
                        <div className="max-w-3xl mx-auto text-center space-y-8">
                            <IconHeart className="w-8 h-8 mx-auto text-stone-400" />
                            <h2 className="text-3xl md:text-4xl font-serif text-stone-800">Nuestra Historia</h2>
                            <p className="text-lg text-stone-600 leading-relaxed italic">"{weddingData.story}"</p>
                            <div className="pt-8">
                                <h3 className="text-sm font-bold tracking-widest text-stone-400 uppercase mb-6">Faltan para el gran día</h3>
                                <Countdown />
                            </div>
                        </div>
                    </section>

                    {/* Detalles */}
                    <section id="detalles" className="py-24 px-4 bg-stone-100">
                        <div className="max-w-5xl mx-auto">
                            <h2 className="text-3xl md:text-4xl font-serif text-center mb-16">Detalles del Evento</h2>
                            <div className="grid md:grid-cols-3 gap-8 text-center">
                                <div className="bg-white p-8 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                    <IconCalendar className="w-10 h-10 mx-auto text-stone-400 mb-4" />
                                    <h3 className="text-xl font-serif mb-2">Cuándo</h3>
                                    <p className="text-stone-600">Sábado, 23 de Enero 2027</p>
                                    <p className="text-stone-500 text-sm mt-2">4:00 PM</p>
                                </div>
                                <div className="bg-white p-8 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                    <IconMapPin className="w-10 h-10 mx-auto text-stone-400 mb-4" />
                                    <h3 className="text-xl font-serif mb-2">Dónde</h3>
                                    <p className="text-stone-600 font-medium">{weddingData.location}</p>
                                    <p className="text-stone-500 text-sm mt-2">{weddingData.address}</p>
                                    <a href={weddingData.googleMapsLink} target="_blank" rel="noreferrer" className="inline-flex items-center gap-1 text-xs uppercase font-bold text-stone-400 hover:text-stone-700 mt-4 border-b border-stone-300 pb-1">
                                        Ver Mapa <IconNavigation className="w-3 h-3" />
                                    </a>
                                </div>
                                <div className="bg-white p-8 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                    <IconUserCheck className="w-10 h-10 mx-auto text-stone-400 mb-4" />
                                    <h3 className="text-xl font-serif mb-2">Código de Vestimenta</h3>
                                    <p className="text-stone-600">{weddingData.dressCode}</p>
                                    <p className="text-stone-500 text-sm mt-2">Elegante pero cómodos</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Itinerario */}
                    <section id="itinerario" className="py-24 px-4 bg-white overflow-hidden">
                        <div className="max-w-2xl mx-auto text-center">
                            <h2 className="text-3xl md:text-4xl font-serif mb-12">Itinerario</h2>
                            <div className="relative border-l-2 border-stone-200 ml-1/2 md:ml-0 md:mx-auto pl-8 md:pl-0 space-y-12 text-left md:text-center">
                                {weddingData.schedule.map((item, index) => (
                                    <div key={index} className="relative md:flex md:items-center md:justify-center group">
                                        <div className="absolute -left-[39px] md:left-1/2 md:-ml-[9px] w-5 h-5 bg-stone-100 border-4 border-stone-300 rounded-full z-10 group-hover:bg-stone-400 transition-colors"></div>
                                        <div className="md:w-1/2 md:text-right md:pr-12">
                                            <span className="text-2xl font-serif text-stone-800 block">{item.time}</span>
                                        </div>
                                        <div className="md:w-1/2 md:text-left md:pl-12">
                                            <span className="text-stone-500 uppercase tracking-widest text-sm font-medium">{item.event}</span>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    {/* Mesa de Regalos */}
                    <section className="py-16 px-4 bg-stone-900 text-stone-300 text-center">
                        <div className="max-w-2xl mx-auto">
                            <IconGift className="w-12 h-12 mx-auto text-stone-500 mb-6" />
                            <h2 className="text-2xl font-serif text-white mb-4">Mesa de Regalos</h2>
                            <p className="mb-8 font-light">
                                Su presencia es nuestro mejor regalo. Si desean tener un detalle con nosotros, 
                                hemos preparado una opción de lluvia de sobres o pueden visitar nuestra mesa de regalos.
                            </p>
                            <div className="flex flex-col md:flex-row justify-center gap-4">
                                <button className="px-8 py-3 border border-stone-600 hover:bg-stone-800 hover:border-stone-500 rounded transition-all uppercase text-sm tracking-widest">
                                    Ver Liverpool
                                </button>
                                <button className="px-8 py-3 border border-stone-600 hover:bg-stone-800 hover:border-stone-500 rounded transition-all uppercase text-sm tracking-widest">
                                    Ver Amazon
                                </button>
                            </div>
                        </div>
                    </section>

                    {/* RSVP */}
                    <section id="rsvp" className="py-24 px-4 bg-stone-100 relative">
                        <div className="absolute inset-0 opacity-5 pointer-events-none" style={{backgroundImage: 'url("https://www.transparenttextures.com/patterns/cubes.png")'}}></div>
                        <div className="max-w-xl mx-auto relative z-10">
                            <div className="text-center mb-12">
                                <h2 className="text-4xl font-serif text-stone-800 mb-4">Acompáñanos</h2>
                                <p className="text-stone-600">Por favor confirma tu asistencia antes del 1 de Septiembre</p>
                            </div>
                            <RsvpForm />
                        </div>
                    </section>

                    {/* Footer */}
                    <footer className="bg-white py-12 text-center border-t border-stone-100">
                        <h2 className="text-3xl font-serif text-stone-800 mb-4">{weddingData.couple}</h2>
                        <p className="text-stone-500 text-sm uppercase tracking-widest mb-4">#BodaSofiyMateo2027</p>
                        <p className="text-stone-400 text-xs">© 2027. Hecho con amor.</p>
                    </footer>
                </div>
            );
        }

        // Renderizado de la aplicación
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>